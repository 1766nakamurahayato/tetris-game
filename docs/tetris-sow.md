# テトリスゲーム開発 SOW (Statement of Work)

## 1. プロジェクト概要

Webブラウザ上でプレイ可能なテトリスゲームの開発を行う。クラシックなテトリスのゲームプレイを再現し、モダンなWeb技術を使用して実装する。

## 2. プロジェクトの目的

- ブラウザで動作する完全機能のテトリスゲームを提供
- レスポンシブデザインによりPC・タブレット・スマートフォンでプレイ可能
- 直感的なUI/UXによる快適なゲーム体験の実現

## 3. スコープ

### 含まれる内容
- テトリスの基本ゲームロジック実装
- スコアリングシステム
- レベル管理とゲーム難易度の調整
- キーボード・タッチ操作対応
- ゲームオーバー・ハイスコア表示
- ゲームの一時停止・再開機能

### 含まれない内容
- マルチプレイヤー機能
- バックエンドサーバー連携
- ユーザーアカウント管理
- オンラインランキングシステム

## 4. 成果物

1. **ソースコード**
   - HTML/CSS/JavaScript（または TypeScript）ファイル
   - 整理されたフォルダ構造
   - コメント付きのクリーンなコード

2. **ドキュメント**
   - README.md（セットアップ手順、プレイ方法）
   - 技術仕様書
   - コード設計ドキュメント

3. **デプロイ可能なアプリケーション**
   - 静的ホスティング対応
   - 最適化されたアセット

## 5. 技術仕様

### フロントエンド技術スタック
- **HTML5**: ゲームの基本構造
- **CSS3**: スタイリング、アニメーション
- **JavaScript (ES6+)** または **TypeScript**: ゲームロジック
- **Canvas API**: ゲームボードのレンダリング

### 代替技術オプション
- フレームワーク: Vanilla JS / React / Vue.js（任意）
- ビルドツール: Vite / Webpack（任意）

### ブラウザサポート
- Chrome (最新版)
- Firefox (最新版)
- Safari (最新版)
- Edge (最新版)

## 6. 機能要件

### 6.1 ゲームメカニクス

#### テトリミノ（ブロック）
- 7種類の標準テトリミノ（I, O, T, S, Z, J, L）
- 各テトリミノの正確な形状と色
- ランダムなテトリミノ生成
- Next（次のブロック）プレビュー表示

#### ゲームボード
- 10列 × 20行の標準グリッド
- グリッドの視覚的表示
- 配置済みブロックの表示

#### ブロック操作
- 左右移動
- 回転（時計回り・反時計回り）
- ソフトドロップ（下へ早く落とす）
- ハードドロップ（瞬時に落とす）
- 壁蹴り（Wall Kick）機能

#### ライン消去
- 完成した行の検出と削除
- 複数行同時消去対応（シングル、ダブル、トリプル、テトリス）
- ライン消去時のアニメーション効果

### 6.2 ゲームシステム

#### スコアリング
- 基本スコア計算
  - シングル: 100点
  - ダブル: 300点
  - トリプル: 500点
  - テトリス（4行）: 800点
- レベルによる倍率
- ソフトドロップ・ハードドロップのボーナス

#### レベルシステム
- 開始レベル: 1
- 10ライン消去ごとにレベルアップ
- レベルに応じた落下速度の増加

#### ゲーム状態管理
- ゲーム開始
- プレイ中
- 一時停止
- ゲームオーバー

### 6.3 ユーザーインターフェース

#### メイン画面
- ゲームボード
- スコア表示
- レベル表示
- 消去ライン数表示
- Nextブロックプレビュー

#### コントロール
- **キーボード操作**
  - 矢印キー: 左右移動、ソフトドロップ
  - 上矢印 / X / スペース: 回転
  - スペース: ハードドロップ
  - P: 一時停止
  - R: リスタート

- **タッチ操作（モバイル）**
  - スワイプ: 左右移動
  - タップ: 回転
  - 下スワイプ: ソフトドロップ
  - 画面ボタン: 各種操作

#### メニュー
- スタート画面
- 操作説明
- 一時停止メニュー
- ゲームオーバー画面とリトライ機能

### 6.4 データ保存
- ハイスコアのローカルストレージ保存
- ゲーム設定の保存（音量、操作方法など）

## 7. 非機能要件

### パフォーマンス
- 60 FPS以上の滑らかなアニメーション
- ボタン入力の遅延: 50ms以内
- ページ読み込み時間: 3秒以内

### レスポンシブデザイン
- デスクトップ（1920×1080以上）
- タブレット（768×1024）
- スマートフォン（375×667以上）

### アクセシビリティ
- キーボードのみで完全操作可能
- 色覚多様性への配慮（カラーパレット選択）
- 画面読み上げソフトウェア対応（ARIA属性）

### セキュリティ
- XSS攻撃対策
- 安全なローカルストレージ使用

## 8. UI/UXデザイン要件

### ビジュアルデザイン
- クリーンでモダンなデザイン
- レトロ風またはミニマリストなスタイル
- 視認性の高い色彩設計
- スムーズなアニメーション

### サウンド（オプション）
- ブロック移動音
- 回転音
- ライン消去音
- ゲームオーバー音
- BGM（ON/OFF切り替え可能）

## 9. 開発フェーズ

### Phase 1: 基盤構築
- プロジェクトセットアップ
- 基本的なHTML/CSS構造
- ゲームボードのレンダリング

### Phase 2: コア機能実装
- テトリミノの生成と表示
- ブロック操作（移動、回転）
- 衝突判定
- ブロックの固定

### Phase 3: ゲームロジック
- ライン消去機能
- スコアリングシステム
- レベル管理
- ゲームオーバー判定

### Phase 4: UI/UX改善
- 各種UI要素の実装
- アニメーション追加
- レスポンシブ対応
- タッチ操作実装

### Phase 5: 最適化とテスト
- パフォーマンス最適化
- クロスブラウザテスト
- バグフィックス
- ドキュメント整備

### Phase 6: デプロイ
- ビルド設定
- ホスティング設定
- 最終検証

## 10. テスト要件

### 機能テスト
- 全てのテトリミノの正確な動作
- 回転ロジックの検証
- ライン消去の正確性
- スコア計算の正確性

### 互換性テスト
- 各種ブラウザでの動作確認
- 各種デバイスでの動作確認
- 異なる画面サイズでの表示確認

### パフォーマンステスト
- フレームレート測定
- メモリリーク確認
- 長時間プレイ時の安定性

## 11. 制約事項

- インターネット接続不要（オフラインプレイ可能）
- 外部依存ライブラリの最小化
- ブラウザのローカルストレージ容量制限（5-10MB）
- 純粋なクライアントサイド実装

## 12. プロジェクト完了基準

- 全ての機能要件が実装され動作している
- 主要ブラウザで問題なく動作する
- ドキュメントが完成している
- 60FPSの滑らかな動作を実現
- モバイルデバイスでも快適にプレイ可能
- コードが適切にコメントされ保守可能な状態

## 13. 技術的考慮事項

### ゲームループ
- `requestAnimationFrame` を使用した効率的なレンダリング
- 固定タイムステップでのゲームロジック更新

### 状態管理
- ゲーム状態の明確な管理
- イミュータブルな状態更新パターン

### コード構造
- モジュール化された設計
- 関心の分離（ロジック / UI / 描画）
- 拡張性を考慮したアーキテクチャ

## 14. リファレンス

- テトリスガイドライン: https://tetris.wiki/
- HTML5 Canvas API: MDN Web Docs
- ゲーム開発ベストプラクティス

---

**ドキュメントバージョン**: 1.0
**作成日**: 2025-12-24
**最終更新日**: 2025-12-24
